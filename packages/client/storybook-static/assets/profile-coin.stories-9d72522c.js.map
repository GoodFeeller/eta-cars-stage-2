{"version":3,"file":"profile-coin.stories-9d72522c.js","sources":["../../src/components/modal/profileModal/profile-coin/ProfileCoin.tsx"],"sourcesContent":["import { FunctionComponent } from 'react'\r\nimport { IProfileCoin, IProfileTotal } from '../../../../service/ProfileTypes'\r\nimport styles from '../ProfileModal.module.scss'\r\n\r\nconst ProfileCoin: FunctionComponent<{ coin: IProfileCoin }> = ({ coin }) => {\r\n  const remove = () => {\r\n    localStorage.removeItem(coin.id)\r\n    const storageStr = localStorage.getItem('//profile//')\r\n    if (storageStr != null) {\r\n      const storage: IProfileTotal = JSON.parse(storageStr)\r\n      const newID = storage.id.filter((id) => id !== coin.id)\r\n      localStorage.setItem(\r\n        '//profile//',\r\n        JSON.stringify({\r\n          id: newID,\r\n          totalPrice: storage.totalPrice - coin.totalPrice,\r\n        }),\r\n      )\r\n    }\r\n    window.dispatchEvent(new Event('storage'))\r\n  }\r\n  return (\r\n    <div data-testid=\"profile-coin\" className={styles.coinItem}>\r\n      {coin ? (\r\n        <>\r\n          <div>\r\n            <div>\r\n              <img\r\n                src={`https://assets.coincap.io/assets/icons/${coin.symbol.toLowerCase()}@2x.png`}\r\n                alt={'Not found'}\r\n              />\r\n              <span>{coin.symbol}</span>\r\n            </div>\r\n            <span>\r\n              Price:{' '}\r\n              {Intl.NumberFormat('en', {\r\n                style: 'currency',\r\n                currency: 'USD',\r\n              }).format(coin.totalPrice)}\r\n            </span>\r\n            <span>Count: {coin.count}</span>\r\n          </div>\r\n          <button onClick={() => remove()}>remove</button>\r\n        </>\r\n      ) : (\r\n        <div>Coin Not Found!</div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\nexport default ProfileCoin\r\n"],"names":["ProfileCoin","coin","remove","storageStr","storage","newID","id","jsx","styles","jsxs","Fragment"],"mappings":"uKAIA,MAAAA,EAAA,CAAA,CAAA,KAAAC,KAAA,CACE,MAAAC,EAAA,IAAA,CACE,aAAA,WAAAD,EAAA,EAAA,EACA,MAAAE,EAAA,aAAA,QAAA,aAAA,EACA,GAAAA,GAAA,KAAA,CACE,MAAAC,EAAA,KAAA,MAAAD,CAAA,EACAE,EAAAD,EAAA,GAAA,OAAAE,GAAAA,IAAAL,EAAA,EAAA,EACA,aAAA,QAAa,cACX,KAAA,UAAA,CACe,GAAAI,EACT,WAAAD,EAAA,WAAAH,EAAA,UACkC,CAAA,CACvC,CACH,CAEF,OAAA,cAAA,IAAA,MAAA,SAAA,CAAA,CAAyC,EAE3C,OAAAM,EAAA,IAAA,MAAA,CAAA,cAAA,eAAA,UAAAC,EAAA,SAAA,SAAAP,EAAAQ,EAAA,KAAAC,EAAA,SAAA,CAAA,SAAA,CAIQD,OAAA,MAAA,CAAA,SAAA,CACEA,OAAA,MAAA,CAAA,SAAA,CACEF,EAAA,IAAA,MAAC,CAAA,IAAA,0CAAAN,EAAA,OAAA,YAAA,CAAA,UACyE,IAAA,WACnE,CAAA,EACPM,EAAAA,IAAA,OAAA,CAAA,SAAAN,EAAA,MAAA,CAAA,CACmB,EAAA,EACrBQ,OAAA,OAAA,CAAA,SAAA,CACM,SAAA,IACG,KAAA,aAAA,KAAA,CACkB,MAAA,WAChB,SAAA,KACG,CAAA,EAAA,OAAAR,EAAA,UAAA,CACa,EAAA,EAC3BQ,OAAA,OAAA,CAAA,SAAA,CACM,UAAAR,EAAA,KAAa,EAAA,CAAM,EAAA,EAC3BM,EAAA,IAAA,SAAA,CAAA,QAAA,IAAAL,IAAA,SAAA,SAAA,CACuC,CAAA,CAAA,EAAAK,EAAAA,IAAA,MAAA,CAAA,SAAA,iBAAA,CAAA,CAAA,CAAA,CAOjD;;;;;;;;;"}